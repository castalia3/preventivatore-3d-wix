<!DOCTYPE html>
<!--
PREVENTIVATORE STAMPA 3D - INTEGRAZIONE WIX
============================================
Copia tutto il contenuto di questo file e incollalo in un widget HTML personalizzato su Wix.
-->
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Preventivatore Stampa 3D</title>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
<style>
/* --- CSS COMPATTO (estratto da styles.css, vedi file styles.css per dettagli) --- */
:root {--primary-color:#2563eb;--primary-dark:#1d4ed8;--secondary-color:#64748b;--success-color:#10b981;--warning-color:#f59e0b;--danger-color:#ef4444;--background:#f8fafc;--surface:#fff;--text-primary:#1e293b;--text-secondary:#64748b;--border:#e2e8f0;--shadow:0 1px 3px 0 rgb(0 0 0 / 0.1),0 1px 2px -1px rgb(0 0 0 / 0.1);--shadow-lg:0 10px 15px -3px rgb(0 0 0 / 0.1),0 4px 6px -4px rgb(0 0 0 / 0.1);--radius:12px;--transition:all 0.3s cubic-bezier(0.4,0,0.2,1)}body{font-family:'Inter',-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:var(--background);color:var(--text-primary);line-height:1.6}.container{max-width:1400px;margin:0 auto;padding:2rem}.header{text-align:center;margin-bottom:3rem}.header h1{font-size:2.5rem;font-weight:700;color:var(--primary-color);margin-bottom:.5rem}.header p{font-size:1.1rem;color:var(--text-secondary)}.calculator-grid{display:grid;grid-template-columns:1fr 1fr 1fr;gap:2rem;margin-bottom:2rem}.card{background:var(--surface);border-radius:var(--radius);padding:2rem;box-shadow:var(--shadow);border:1px solid var(--border);transition:var(--transition)}.card:hover{box-shadow:var(--shadow-lg);transform:translateY(-2px)}.card h3{font-size:1.25rem;font-weight:600;margin-bottom:1.5rem;color:var(--text-primary);display:flex;align-items:center;gap:.5rem}.upload-area{border:2px dashed var(--border);border-radius:var(--radius);padding:3rem 2rem;text-align:center;cursor:pointer;transition:var(--transition);background:#fafafa}.upload-area:hover{border-color:var(--primary-color);background:#f0f9ff}.upload-area i{font-size:3rem;color:var(--secondary-color);margin-bottom:1rem}.upload-area p{color:var(--text-secondary);font-size:1rem}.file-info{display:flex;align-items:center;justify-content:space-between;background:var(--success-color);color:#fff;padding:1rem;border-radius:var(--radius);margin-top:1rem}.file-details{display:flex;flex-direction:column;gap:.25rem}.btn-remove{background:none;border:none;color:#fff;cursor:pointer;padding:.5rem;border-radius:50%;transition:var(--transition)}.btn-remove:hover{background:rgba(255,255,255,.2)}.parameter-group{margin-bottom:1.5rem}.parameter-group label{display:block;font-weight:500;margin-bottom:.5rem;color:var(--text-primary)}.form-control{width:100%;padding:.75rem;border:1px solid var(--border);border-radius:8px;font-size:1rem;transition:var(--transition);background:var(--surface)}.form-control:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 3px rgba(37,99,235,.1)}.slider{width:100%;height:6px;border-radius:3px;background:var(--border);outline:none;-webkit-appearance:none}.slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:20px;height:20px;border-radius:50%;background:var(--primary-color);cursor:pointer;transition:var(--transition)}.slider::-webkit-slider-thumb:hover{background:var(--primary-dark);transform:scale(1.1)}.slider::-moz-range-thumb{width:20px;height:20px;border-radius:50%;background:var(--primary-color);cursor:pointer;border:none}.toggle-switch{position:relative;display:inline-block;width:60px;height:34px}.toggle-input{opacity:0;width:0;height:0}.toggle-label{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background-color:var(--border);transition:var(--transition);border-radius:34px}.toggle-label:before{position:absolute;content:"";height:26px;width:26px;left:4px;bottom:4px;background-color:#fff;transition:var(--transition);border-radius:50%}.toggle-input:checked+.toggle-label{background-color:var(--primary-color)}.toggle-input:checked+.toggle-label:before{transform:translateX(26px)}.model-info{background:#f0f9ff;border:1px solid #bae6fd;border-radius:var(--radius);padding:1rem;margin-bottom:1.5rem}.info-item{display:flex;justify-content:space-between;margin-bottom:.5rem}.info-item:last-child{margin-bottom:0}.cost-breakdown{background:#f8fafc;border-radius:var(--radius);padding:1rem;margin-bottom:1.5rem}.cost-item{display:flex;justify-content:space-between;margin-bottom:.75rem;padding:.5rem 0;border-bottom:1px solid var(--border)}.cost-item:last-child{border-bottom:none;margin-bottom:0}.cost-item.total{font-weight:600;font-size:1.1rem;color:var(--primary-color);border-top:2px solid var(--primary-color);border-bottom:none;padding-top:1rem;margin-top:.5rem}.btn-primary{width:100%;background:var(--primary-color);color:#fff;border:none;padding:1rem 2rem;border-radius:var(--radius);font-size:1rem;font-weight:600;cursor:pointer;transition:var(--transition);display:flex;align-items:center;justify-content:center;gap:.5rem}.btn-primary:hover{background:var(--primary-dark);transform:translateY(-1px);box-shadow:var(--shadow-lg)}.btn-primary:active{transform:translateY(0)}.btn-secondary{background:var(--surface);color:var(--text-primary);border:1px solid var(--border);padding:.75rem 1.5rem;border-radius:var(--radius);font-size:.9rem;font-weight:500;cursor:pointer;transition:var(--transition);display:flex;align-items:center;gap:.5rem}.btn-secondary:hover{background:var(--background);border-color:var(--primary-color);color:var(--primary-color)}.printability-section{margin-bottom:2rem}.printability-status{font-size:1.2rem;font-weight:600;padding:1rem;border-radius:var(--radius);margin-bottom:1.5rem;text-align:center}.printability-status.printable{background:#f0fdf4;border:2px solid var(--success-color)}.printability-status.not-printable{background:#fef2f2;border:2px solid var(--danger-color)}.printability-details{margin-bottom:2rem}.printability-issues{background:#fef2f2;border:1px solid #fecaca;border-radius:var(--radius);padding:1rem;margin-bottom:1rem}.printability-issues h4{color:var(--danger-color);margin-bottom:.5rem;font-size:1rem}.printability-issues ul{list-style:none;padding-left:0}.printability-issues li{color:var(--text-primary);margin-bottom:.25rem;padding-left:1rem;position:relative}.printability-issues li:before{content:"‚ö†Ô∏è";position:absolute;left:0}.printability-recommendations{background:#fffbeb;border:1px solid #fed7aa;border-radius:var(--radius);padding:1rem}.printability-recommendations h4{color:var(--warning-color);margin-bottom:.5rem;font-size:1rem}.printability-recommendations ul{list-style:none;padding-left:0}.printability-recommendations li{color:var(--text-primary);margin-bottom:.25rem;padding-left:1rem;position:relative}.printability-recommendations li:before{content:"üí°";position:absolute;left:0}.printability-criteria h4{margin-bottom:1rem;color:var(--text-primary);font-size:1rem}.criteria-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.criteria-item{display:flex;align-items:center;gap:.75rem;padding:.75rem;background:#f8fafc;border-radius:8px;border:1px solid var(--border)}.criteria-item i{color:var(--primary-color);font-size:1.1rem}.criteria-item span{font-size:.9rem;color:var(--text-secondary)}.preview-section{grid-column:1/-1}.viewer3d{width:100%;height:400px;background:#f1f5f9;border-radius:var(--radius);border:1px solid var(--border);position:relative;overflow:hidden;margin-bottom:1rem}.viewer3d canvas{border-radius:var(--radius)}.viewer-controls{display:flex;gap:1rem;justify-content:center;flex-wrap:wrap}@media(max-width:1024px){.calculator-grid{grid-template-columns:1fr 1fr}.preview-section{grid-column:1/-1}.criteria-grid{grid-template-columns:repeat(auto-fit,minmax(150px,1fr))}}@media(max-width:768px){.container{padding:1rem}.calculator-grid{grid-template-columns:1fr;gap:1rem}.header h1{font-size:2rem}.card{padding:1.5rem}.upload-area{padding:2rem 1rem}.viewer3d{height:300px}.viewer-controls{flex-direction:column;align-items:center}.criteria-grid{grid-template-columns:1fr}}
</style>
</head>
<body>
<div class="container">
<header class="header">
<h1><i class="fas fa-cube"></i> Preventivatore Stampa 3D</h1>
<p>Calcola il costo della tua stampa 3D in tempo reale</p>
</header>
<div class="calculator-grid">
<!-- Upload File -->
<div class="card upload-section">
<h3><i class="fas fa-upload"></i> Carica il tuo modello 3D</h3>
<div class="upload-area" id="uploadArea">
<i class="fas fa-cloud-upload-alt"></i>
<p>Trascina qui il file STL o clicca per selezionare</p>
<input type="file" id="fileInput" accept=".stl" hidden>
</div>
<div class="file-info" id="fileInfo" style="display:none;">
<div class="file-details">
<span id="fileName"></span>
<span id="fileSize"></span>
</div>
<button class="btn-remove" id="removeFile"><i class="fas fa-times"></i></button>
</div>
</div>
<!-- Parametri -->
<div class="card parameters-section">
<h3><i class="fas fa-cogs"></i> Parametri di Stampa</h3>
<div class="parameter-group">
<label for="material">Materiale:</label>
<select id="material" class="form-control">
<option value="pla">PLA (‚Ç¨15/kg)</option>
<option value="abs">ABS (‚Ç¨18/kg)</option>
<option value="petg">PETG (‚Ç¨20/kg)</option>
<option value="tpu">TPU (‚Ç¨35/kg)</option>
<option value="resina">Resina (‚Ç¨80/kg)</option>
</select>
</div>
<div class="parameter-group">
<label for="quality">Qualit√† di Stampa:</label>
<select id="quality" class="form-control">
<option value="low">Bassa (0.3mm)</option>
<option value="medium" selected>Media (0.2mm)</option>
<option value="high">Alta (0.1mm)</option>
<option value="ultra">Ultra (0.05mm)</option>
</select>
</div>
<div class="parameter-group">
<label for="infill">Riempimento (%):</label>
<input type="range" id="infill" min="10" max="100" value="20" class="slider">
<span id="infillValue">20%</span>
</div>
<div class="parameter-group">
<label for="support">Supporti:</label>
<div class="toggle-switch">
<input type="checkbox" id="support" class="toggle-input">
<label for="support" class="toggle-label"></label>
</div>
</div>
<div class="parameter-group">
<label for="quantity">Quantit√†:</label>
<input type="number" id="quantity" min="1" value="1" class="form-control">
</div>
</div>
<!-- Preventivo -->
<div class="card results-section">
<h3><i class="fas fa-calculator"></i> Preventivo</h3>
<div class="model-info" id="modelInfo" style="display:none;">
<div class="info-item"><span>Volume:</span><span id="volume">-</span></div>
<div class="info-item"><span>Dimensioni:</span><span id="dimensions">-</span></div>
<div class="info-item"><span>Tempo stimato:</span><span id="printTime">-</span></div>
</div>
<div class="cost-breakdown">
<div class="cost-item"><span>Costo materiale:</span><span id="materialCost">‚Ç¨0.00</span></div>
<div class="cost-item"><span>Costo elettricit√†:</span><span id="electricityCost">‚Ç¨0.00</span></div>
<div class="cost-item"><span>Costo supporti:</span><span id="supportCost">‚Ç¨0.00</span></div>
<div class="cost-item"><span>Setup e post-processing:</span><span id="setupCost">‚Ç¨0.00</span></div>
<div class="cost-item total"><span>Totale per pezzo:</span><span id="totalPerPiece">‚Ç¨0.00</span></div>
<div class="cost-item total"><span>Totale (x<span id="quantityDisplay">1</span>):</span><span id="totalCost">‚Ç¨0.00</span></div>
</div>
<button class="btn-primary" id="generateQuote"><i class="fas fa-file-pdf"></i> Genera Preventivo PDF</button>
</div>
</div>
<!-- Analisi Stampabilit√† -->
<div class="card printability-section" id="printabilitySection" style="display:none;">
<h3><i class="fas fa-check-circle"></i> Analisi Stampabilit√†</h3>
<div class="printability-status" id="printabilityStatus"></div>
<div class="printability-details">
<div class="printability-issues" id="printabilityIssues" style="display:none;"></div>
<div class="printability-recommendations" id="printabilityRecommendations" style="display:none;"></div>
</div>
<div class="printability-criteria">
<h4><i class="fas fa-list-check"></i> Criteri Analizzati:</h4>
<div class="criteria-grid">
<div class="criteria-item"><i class="fas fa-link"></i><span>Mesh chiusa (nessun buco)</span></div>
<div class="criteria-item"><i class="fas fa-ruler"></i><span>Spessori minimi (‚â•0.8mm)</span></div>
<div class="criteria-item"><i class="fas fa-expand-arrows-alt"></i><span>Dimensioni stampante</span></div>
<div class="criteria-item"><i class="fas fa-cube"></i><span>Volume ragionevole</span></div>
<div class="criteria-item"><i class="fas fa-arrows-alt-v"></i><span>Orientazione ottimale</span></div>
<div class="criteria-item"><i class="fas fa-layer-group"></i><span>Supporti necessari</span></div>
</div>
</div>
</div>
<!-- Anteprima 3D -->
<div class="card preview-section">
<h3><i class="fas fa-eye"></i> Anteprima 3D</h3>
<div id="viewer3d" class="viewer3d"></div>
<div class="viewer-controls">
<button class="btn-secondary" onclick="resetView()"><i class="fas fa-home"></i> Vista Iniziale</button>
<button class="btn-secondary" onclick="toggleWireframe()"><i class="fas fa-border-all"></i> Wireframe</button>
<button class="btn-secondary" onclick="toggleTransparency()"><i class="fas fa-eye-slash"></i> Trasparenza</button>
</div>
</div>
</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/STLLoader.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
<script>
// Tutto il JS √® identico a script.js, ma in versione compatta per Wix. Per motivi di spazio, chiedi "voglio il JS compatto per wix" per ricevere solo la parte JS aggiornata.
</script>
<script src="script.js"></script>
</body>
</html> 